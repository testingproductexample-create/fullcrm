# =================================
# CACHING & CDN SYSTEM CONFIGURATION
# =================================

# Environment
NODE_ENV=development
LOG_LEVEL=info

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=caching:
REDIS_MAX_CONNECTIONS=50
REDIS_MIN_CONNECTIONS=5
REDIS_ENABLE_OFFLINE_QUEUE=true
REDIS_RETRY_DELAY_MAX=200
REDIS_RETRY_DELAY_MIN=100
REDIS_RETRY_UNfulfilled=true
REDIS_CLUSTER_NODES=localhost:7000,localhost:7001,localhost:7002
REDIS_SENTINEL_PASSWORD=
REDIS_SENTINEL_HOST=localhost
REDIS_SENTINEL_PORT=26379
REDIS_SENTINEL_MASTER_NAME=mymaster

# Cache Manager Configuration
CACHE_DEFAULT_TTL=3600
CACHE_MAX_KEY_LENGTH=250
CACHE_MAX_VALUE_SIZE=1048576
CACHE_GC_INTERVAL=300000
CACHE_ENABLE_METRICS=true
CACHE_STATS_UPDATE_INTERVAL=30000
CACHE_WARMUP_ENABLED=true
CACHE_BATCH_SIZE=1000

# Cache Strategies Configuration
CACHE_LRU_MAX_SIZE=10000
CACHE_LFU_MAX_SIZE=10000
CACHE_TTL_DEFAULT=3600
CACHE_TTL_MAX=86400
CACHE_ADAPTIVE_EVALUATION_INTERVAL=60000
CACHE_SIZE_BASED_EVICTION_THRESHOLD=0.8

# Database Query Cache Configuration
QUERY_CACHE_ENABLED=true
QUERY_CACHE_DEFAULT_TTL=1800
QUERY_CACHE_MAX_CACHE_TIME=86400
QUERY_CACHE_MIN_CACHE_TIME=60
QUERY_CACHE_THRESHOLD=0.1
QUERY_CACHE_NORMALIZE_QUERIES=true
QUERY_CACHE_ENABLE_COMPRESSION=true
QUERY_CACHE_COMPRESSION_THRESHOLD=1024
QUERY_CACHE_INVALIDATION_DEBOUNCE=1000
QUERY_CACHE_BULK_INVALIDATION_LIMIT=100

# API Response Cache Configuration
API_CACHE_ENABLED=true
API_CACHE_DEFAULT_TTL=600
API_CACHE_MAX_TTL=7200
API_CACHE_CONDITIONAL_REQUESTS=true
API_CACHE_ETAG_ENABLED=true
API_CACHE_LAST_MODIFIED=true
API_CACHE_ACCEPT_ENCODING_ENABLED=true
API_CACHE_VARY_HEADERS=Accept,Accept-Encoding,Authorization
API_CACHE_IGNORE_QUERY_PARAMS=timestamp,cache_bust
API_CACHE_KEY_INCLUDE_HEADERS=false
API_CACHE_DEFAULT_STATUS_CODES=200,201,301,302

# Static Asset Cache Configuration
STATIC_CACHE_ENABLED=true
STATIC_CACHE_TTL=31536000
STATIC_CACHE_VERSION_HEADER=true
STATIC_CACHE_ETAG_ENABLED=true
STATIC_CACHE_COMPRESSION_ENABLED=true
STATIC_CACHE_BUNDLE_ENABLED=true
STATIC_CACHE_MINIFY_ENABLED=true
STATIC_CACHE_HASH_LENGTH=8
STATIC_CACHE_BUNDLE_CHUNK_LIMIT=244000
STATIC_CACHE_SOURCE_MAPS=false
STATIC_CACHE_CACHE_BUST=hash

# CDN Configuration
CDN_ENABLED=true
CDN_DEFAULT_PROVIDER=cloudflare
CDN_TTL_DEFAULT=3600
CDN_PURGE_BATCH_SIZE=100
CDN_PROVIDERS=cloudfront,cloudflare,fastly
CDN_EDGE_ENABLED=true
CDN_GEO_ROUTING=true
CDN_CUSTOM_DOMAINS=cdn1.example.com,cdn2.example.com
CDN_INVALIDATION_DELAY=0

# CloudFront Configuration
CLOUDFRONT_ACCESS_KEY_ID=
CLOUDFRONT_SECRET_ACCESS_KEY=
CLOUDFRONT_DISTRIBUTION_ID=
CLOUDFRONT_REGION=us-east-1
CLOUDFRONT_PRIVATE_KEY_PATH=
CLOUDFRONT_KEY_PAIR_ID=
CLOUDFRONT_DEFAULT_CACHE_BEHAVIOR=public, max-age=31536000
CLOUDFRONT_CORS_ENABLED=true
CLOUDFRONT_COMPRESSION_ENABLED=true

# Cloudflare Configuration
CLOUDFLARE_API_TOKEN=
CLOUDFLARE_ZONE_ID=
CLOUDFLARE_API_EMAIL=
CLOUDFLARE_API_KEY=
CLOUDFLARE_DEFAULT_CACHE_LEVEL=aggressive
CLOUDFLARE_DEFAULT_TTL=3600
CLOUDFLARE_PURGE_URLS_ENABLED=true
CLOUDFLARE_MINIFY_ENABLED=true
CLOUDFLARE_WEBP_ENABLED=true

# Fastly Configuration
FASTLY_API_TOKEN=
FASTLY_SERVICE_ID=
FASTLY_API_KEY=
FASTLY_DEFAULT_TTL=3600
FASTLY_COMPRESSION_ENABLED=true
FASTLY_CORS_ENABLED=true
FASTLY_CUSTOM_ERROR_RESPONSES=true

# Image Optimization Configuration
IMAGE_OPTIMIZATION_ENABLED=true
IMAGE_OPTIMIZATION_QUALITY_DEFAULT=85
IMAGE_OPTIMIZATION_QUALITY_WEBP=80
IMAGE_OPTIMIZATION_QUALITY_AVIF=75
IMAGE_OPTIMIZATION_WEBP_ENABLED=true
IMAGE_OPTIMIZATION_AVIF_ENABLED=true
IMAGE_OPTIMIZATION_BROWSER_FORMAT=auto
IMAGE_OPTIMIZATION_PROGRESSIVE_JPEG=true
IMAGE_OPTIMIZATION_INTERLACE_PROGRESSIVE=true
IMAGE_OPTIMIZATION_EXIF_STRIP=true
IMAGE_OPTIMIZATION_COLOR_SPACE=srgb
IMAGE_OPTIMIZATION_MAX_WIDTH=2048
IMAGE_OPTIMIZATION_MAX_HEIGHT=2048
IMAGE_OPTIMIZATION_DENSITY_DPI=72
IMAGE_OPTIMIZATION_SKIP_LARGER=true
IMAGE_OPTIMIZATION_WITH_METADATA=false

# Responsive Images Configuration
RESPONSIVE_IMAGES_ENABLED=true
RESPONSIVE_IMAGES_BREAKPOINTS=320,768,1024,1366,1920
RESPONSIVE_IMAGES_SIZES=25vw,50vw,75vw,100vw
RESPONSIVE_IMAGES_ART_DIRECTION_ENABLED=true
RESPONSIVE_IMAGES_DEVICE_PIXEL_RATIO=1,1.5,2
RESPONSIVE_IMAGES_FORMAT_QUALITY=auto
RESPONSIVE_IMAGES_CROP_FOCUS=center

# Compression Configuration
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL_DEFAULT=6
COMPRESSION_LEVEL_BROTLI=4
COMPRESSION_LEVEL_GZIP=6
COMPRESSION_LEVEL_DEFLATE=6
COMPRESSION_THRESHOLD=1024
COMPRESSION_LEVEL_CUSTOM_MAP=html:6,css:6,js:6,json:6,svg:6,txt:6,xml:6
COMPRESSION_TYPE_MAP=html: text/html, text/plain, text/css; css: text/css; js: application/javascript, text/javascript; json: application/json; xml: application/xml; svg: image/svg+xml

# Performance Monitoring Configuration
MONITORING_ENABLED=true
MONITORING_METRICS_ENDPOINT=/metrics
MONITORING_DASHBOARD_ENABLED=true
MONITORING_DASHBOARD_PORT=3000
MONITORING_REAL_TIME_ENABLED=true
MONITORING_WEBSOCKET_ENABLED=true
MONITORING_HISTORY_RETENTION=2592000
MONITORING_ALERT_THRESHOLTS=hit_rate:0.8,memory:0.9,errors:0.01
MONITORING_EXPORT_METRICS=true
MONITORING_PROMETHEUS_ENABLED=true
MONITORING_COLLECT_DEFAULT_METRICS=true

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=3001
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_REDIS_ENABLED=true
HEALTH_CHECK_DATABASE_ENABLED=true
HEALTH_CHECK_CDN_ENABLED=true
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Security Configuration
SECURITY_HELMET_ENABLED=true
SECURITY_CORS_ENABLED=true
SECURITY_CORS_ORIGINS=http://localhost:3000,https://app.example.com
SECURITY_RATE_LIMIT_ENABLED=true
SECURITY_RATE_LIMIT_WINDOW_MS=900000
SECURITY_RATE_LIMIT_MAX_REQUESTS=100
SECURITY_ENCRYPT_CACHE_DATA=true
SECURITY_CACHE_KEY_HASH_ALGO=sha256

# Batch Processing Configuration
BATCH_PROCESSING_ENABLED=true
BATCH_PROCESSING_CONCURRENCY=5
BATCH_PROCESSING_BATCH_SIZE=100
BATCH_PROCESSING_TIMEOUT=30000
BATCH_PROCESSING_RETRY_ATTEMPTS=3
BATCH_PROCESSING_RETRY_DELAY=1000

# Logging Configuration
LOGGING_ENABLED=true
LOGGING_LEVEL=info
LOGGING_FORMAT=combined
LOGGING_FILE_ENABLED=true
LOGGING_FILE_PATH=logs/caching-system.log
LOGGING_FILE_MAX_SIZE=10m
LOGGING_FILE_MAX_FILES=5
LOGGING_JSON_FORMAT=false
LOGGING_TAGS=app:caching-system,env:${NODE_ENV}

# Development Configuration
DEVELOPMENT_MOCK_REDIS=false
DEVELOPMENT_DRY_RUN=false
DEVELOPMENT_DEBUG_QUERIES=false
DEVELOPMENT_CACHE_WARMING_DEBUG=false
DEVELOPMENT_METRICS_DEBUG=false
DEVELOPMENT_HOT_RELOAD=true

# Testing Configuration
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/test_cache
TEST_REDIS_URL=redis://localhost:6379/1
TEST_MOCK_EXTERNAL_APIS=true
TEST_TIMEOUT=30000
TEST_PARALLEL=true
TEST_COVERAGE_THRESHOLD=80

# Integration Configuration
INTEGRATION_ENDPOINTS_ENABLED=true
INTEGRATION_MIDDLEWARE_ENABLED=true
INTEGRATION_AUTO_WRAP_ENDPOINTS=true
INTEGRATION_CACHE_ANNOTATIONS_ENABLED=true
INTEGRATION_EXPOSE_INTERNAL_METRICS=true
INTEGRATION_COMPATIBILITY_MODE=false